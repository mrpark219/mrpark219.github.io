---
title: âš™ï¸ ìœ ë‹ˆì˜¨ íŒŒì¸ë“œ(ì„œë¡œì†Œ)
date: 2025-02-06 17:36 +0900
categories: [ì•Œê³ ë¦¬ì¦˜]
tags: [ì•Œê³ ë¦¬ì¦˜, ê°œë…]
image: assets/blog-images/posts/2025-02-06-union-find-algorithm/title.png
mermaid: true
---

> **ìœ ë‹ˆì˜¨ íŒŒì¸ë“œ(Union Find)**: ì„œë¡œì†Œ ì§‘í•©ì„ ì²˜ë¦¬í•˜ëŠ” ìë£Œêµ¬ì¡°ë¡œ, ë‘ ê°œì˜ ë…¸ë“œê°€ ê°™ì€ ì§‘í•©ì— ì†í•˜ëŠ”ì§€ í™•ì¸í•˜ê±°ë‚˜, ë‘ ì§‘í•©ì„ í•˜ë‚˜ë¡œ í•©ì¹˜ëŠ” ì—°ì‚°ì„ ì œê³µí•œë‹¤. ì´ ì•Œê³ ë¦¬ì¦˜ì€ ê·¸ë˜í”„ íƒìƒ‰ì—ì„œ ì‚¬ì´í´ì„ íŒë³„í•˜ê±°ë‚˜, **ìµœì†Œ ì‹ ì¥ íŠ¸ë¦¬(MST)**ë¥¼ ì°¾ì„ ë•Œ ìì£¼ ì‚¬ìš©ëœë‹¤.

## 1ï¸âƒ£ ìœ ë‹ˆì˜¨ íŒŒì¸ë“œì˜ ê¸°ë³¸ ì—°ì‚°

ìœ ë‹ˆì˜¨ íŒŒì¸ë“œëŠ” **Union(í•©ì§‘í•©)** ì—°ì‚°ê³¼ **Find(ì°¾ê¸°)** ì—°ì‚°ìœ¼ë¡œ ì´ë£¨ì–´ì§„ë‹¤.

- Union ì—°ì‚°
  - ë‘ ê°œì˜ ì§‘í•©ì„ í•˜ë‚˜ë¡œ í•©ì¹œë‹¤.
  - `union(x, y)` ì—°ì‚°ì„ ìˆ˜í–‰í•˜ë©´, ë…¸ë“œ `x` ì™€ `y` ê°€ ì†í•œ ë‘ ì§‘í•©ì„ í•˜ë‚˜ë¡œ í•©ì¹œë‹¤.
- Find ì—°ì‚°
  - íŠ¹ì • ë…¸ë“œê°€ ì–´ëŠ ì§‘í•©ì— ì†í•˜ëŠ”ì§€ ì°¾ëŠ”ë‹¤.
  - `find(x)` ë¥¼ í˜¸ì¶œí•˜ë©´ ë…¸ë“œ `x` ê°€ ì†í•œ ì§‘í•©ì˜ ëŒ€í‘œ ë…¸ë“œë¥¼ ì°¾ì„ ìˆ˜ ìˆë‹¤.

## 2ï¸âƒ£ ìœ ë‹ˆì˜¨ íŒŒì¸ë“œ ìˆœì„œ

### 1. ì´ˆê¸°ìƒíƒœ

ê° ë…¸ë“œëŠ” ìê¸° ìì‹ ì„ ë¶€ëª¨ë¡œ ê°€ë¦¬í‚¤ë©° ë…ë¦½ì ì¸ ìƒíƒœì´ë‹¤.

```mermaid
graph TD;
    1("1") -->|ë¶€ëª¨| 1;
    2("2") -->|ë¶€ëª¨| 2;
    3("3") -->|ë¶€ëª¨| 3;
    4("4") -->|ë¶€ëª¨| 4;
    5("5") -->|ë¶€ëª¨| 5;

    subgraph " "
        1; 2; 3; 4; 5;
    end
```

| ë…¸ë“œ ë²ˆí˜¸ | 1   | 2   | 3   | 4   | 5   |
| --------- | --- | --- | --- | --- | --- |
| ë¶€ëª¨      | 1   | 2   | 3   | 4   | 5   |

```kotlin
// ë¶€ëª¨ë¥¼ ì €ì¥í•˜ëŠ” ë°°ì—´(index 1 ~ 5 ì‚¬ìš©)
val parent = IntArray(6) { it }
```

### 2. Union(í•©ì§‘í•©) ì—°ì‚° - 2ê³¼ 3 ì—°ê²°

`union(2, 3)` ë¥¼ í˜¸ì¶œí•˜ë©´, 2ì™€ 3ì„ ê°™ì€ ì§‘í•©ìœ¼ë¡œ ë¬¶ëŠ”ë‹¤. 2ì™€ 3ì˜ ìµœìƒìœ„ ë¶€ëª¨ë¥¼ `find(x)` ì—°ì‚°ì„ í†µí•´ ì°¾ì•„ë‚¸ ë’¤ì— ë¶€ëª¨ ì¤‘ ë” ì‘ì€ ê°’ì¸ 2ê°€ 3ì˜ ë¶€ëª¨ê°€ ëœë‹¤.

```mermaid
graph TD;
    1["1"] -->|ë¶€ëª¨| 1;
    2["2"] -->|ë¶€ëª¨| 2;
    3["3"] -->|ë¶€ëª¨| 2;
    4["4"] -->|ë¶€ëª¨| 4;
    5["5"] -->|ë¶€ëª¨| 5;

    subgraph " "
        1; 2; 3; 4; 5;
    end
```

| ë…¸ë“œ ë²ˆí˜¸ | 1   | 2   | 3   | 4   | 5   |
| --------- | --- | --- | --- | --- | --- |
| ë¶€ëª¨      | 1   | 2   | 2   | 4   | 5   |

```kotlin
// ë‘ ì§‘í•©ì„ í•©ì¹œë‹¤.
fun union(x: Int, y: Int) {
    val rootX = find(x)
    val rootY = find(y)

    // ì´ë¯¸ ê°™ì€ ì§‘í•©ì— ì†í•´ ìˆìœ¼ë©´ í•©ì¹˜ì§€ ì•ŠëŠ”ë‹¤.
    if(rootX != rootY) {
        // ë” ì‘ì€ ê°’ì„ ë¶€ëª¨ë¡œ ì„¤ì •
        if(rootX < rootY) {
            parent[rootY] = rootX
        }
        else {
            parent[rootX] = rootY
        }
    }
}
```

### 3. Union(í•©ì§‘í•©) ì—°ì‚° - 1ê³¼ 2 ì—°ê²°

`union(1, 2)` ì„ í˜¸ì¶œí•˜ë©´, 1ê³¼ 2ê°€ ê°™ì€ ì§‘í•©ìœ¼ë¡œ ë¬¶ì´ê³ , 2ì˜ ë¶€ëª¨ëŠ” 1ì´ ë©ë‹ˆë‹¤.

```mermaid
graph TD;
    1("1") -->|ë¶€ëª¨| 1;
    2("2") -->|ë¶€ëª¨| 1;
    3("3") -->|ë¶€ëª¨| 2;
    4("4") -->|ë¶€ëª¨| 4;
    5("5") -->|ë¶€ëª¨| 5;

    subgraph " "
        1; 2; 3; 4; 5;
    end
```

| ë…¸ë“œ ë²ˆí˜¸ | 1   | 2   | 3   | 4   | 5   |
| --------- | --- | --- | --- | --- | --- |
| ë¶€ëª¨      | 1   | 1   | 2   | 4   | 5   |

### 4. Find(ì°¾ê¸°) ì—°ì‚° - 3ì˜ ë¶€ëª¨ ì°¾ê¸°

`find(3)` ì„ í˜¸ì¶œí•˜ë©´, 3ì˜ ë¶€ëª¨ë¥¼ ì°¾ì„ ìˆ˜ ìˆë‹¤.
3 â†’ ë¶€ëª¨ 2 â†’ ë¶€ëª¨ 1ë¡œ í™•ì¸ë˜ë©°, ìµœì¢…ì ìœ¼ë¡œ 3ì˜ ìµœìƒìœ„ ë¶€ëª¨(ëŒ€í‘œ)ëŠ” 1ì´ë‹¤.

```mermaid
graph TD;
    1("1") -->|ë¶€ëª¨| 1;
    2("2") -->|ë¶€ëª¨| 1;
    3("3") -->|ë¶€ëª¨| 2;

    subgraph " "
        1; 2; 3;
    end
```

```kotlin
// íŠ¹ì • ë…¸ë“œê°€ ì†í•œ ì§‘í•©ì˜ ëŒ€í‘œë¥¼ ì°¾ëŠ”ë‹¤ (ê²½ë¡œ ì••ì¶• ì—†ìŒ)
fun find(x: Int): Int {
    if(parent[x] != x) {
        return find(parent[x]) // ë¶€ëª¨ë¥¼ ì°¾ì•„ê°€ë©° ì¬ê·€ì ìœ¼ë¡œ í˜¸ì¶œ
    }
    return x
}
```

#### ğŸš¨ Find ì—°ì‚°ì˜ ë¬¸ì œì 

- íŠ¸ë¦¬ì˜ ê¹Šì´ê°€ ê¹Šì–´ì§€ë©´ íƒìƒ‰ ì‹œê°„ì´ ê¸¸ì–´ì§„ë‹¤.
- ì´ë¥¼ í•´ê²°í•˜ê¸° ìœ„í•´ **ê²½ë¡œ ì••ì¶•(Path Compression)**ì„ ì ìš©í•œë‹¤.

### 5. ê²½ë¡œ ì••ì¶• (Path Compression) ì ìš©

`find(x)` ì—°ì‚°ì„ ìˆ˜í–‰í•  ë•Œ, ë¶€ëª¨ ë…¸ë“œë¥¼ ìµœìƒìœ„ ë¶€ëª¨ë¡œ ê°±ì‹ í•˜ì—¬ ì´í›„ íƒìƒ‰ ì‹œê°„ì„ ì¤„ì¼ ìˆ˜ ìˆë‹¤.

```mermaid
graph TD;
    1("1") -->|ë¶€ëª¨| 1;
    2("2") -->|ë¶€ëª¨| 1;
    3("3") -->|ë¶€ëª¨| 1;
    4("4") -->|ë¶€ëª¨| 4;
    5("5") -->|ë¶€ëª¨| 5;

    subgraph " "
        1; 2; 3; 4; 5;
    end
```

| ë…¸ë“œ ë²ˆí˜¸ | 1   | 2   | 3   | 4   | 5   |
| --------- | --- | --- | --- | --- | --- |
| ë¶€ëª¨      | 1   | 1   | 1   | 4   | 5   |

```kotlin
// íŠ¹ì • ë…¸ë“œê°€ ì†í•œ ì§‘í•©ì˜ ëŒ€í‘œë¥¼ ì°¾ëŠ”ë‹¤. (ê²½ë¡œ ì••ì¶• ìˆìŒ)
fun find(x: Int): Int {
    if(parent[x] != x) {
        // ê²½ë¡œ ì••ì¶•: ë¶€ëª¨ë¥¼ ìµœìƒìœ„ ë¶€ëª¨ë¡œ ê°±ì‹ 
        parent[x] = find(parent[x])
    }
    return parent[x]
}
```

## 3ï¸âƒ£ ì˜ˆì‹œ ì½”ë“œ

```kotlin
// ë¶€ëª¨ë¥¼ ì €ì¥í•˜ëŠ” ë°°ì—´(index 1 ~ 5 ì‚¬ìš©)
val parent = IntArray(6) { it }

// ë‘ ì§‘í•©ì„ í•©ì¹œë‹¤.
fun union(x: Int, y: Int) {
    val rootX = find(x)
    val rootY = find(y)

    // ì´ë¯¸ ê°™ì€ ì§‘í•©ì— ì†í•´ ìˆìœ¼ë©´ í•©ì¹˜ì§€ ì•ŠëŠ”ë‹¤.
    if(rootX != rootY) {
        // ë” ì‘ì€ ê°’ì„ ë¶€ëª¨ë¡œ ì„¤ì •
        if(rootX < rootY) {
            parent[rootY] = rootX
        }
        else {
            parent[rootX] = rootY
        }
    }
}

// íŠ¹ì • ë…¸ë“œê°€ ì†í•œ ì§‘í•©ì˜ ëŒ€í‘œë¥¼ ì°¾ëŠ”ë‹¤.
fun find(x: Int): Int {
    if(parent[x] != x) {
        // ê²½ë¡œ ì••ì¶•: ë¶€ëª¨ë¥¼ ìµœìƒìœ„ ë¶€ëª¨ë¡œ ê°±ì‹ 
        parent[x] = find(parent[x])
    }
    return parent[x]
}

// ë‘ ë…¸ë“œê°€ ê°™ì€ ì§‘í•©ì— ì†í•˜ëŠ”ì§€ í™•ì¸
fun isConnected(x: Int, y: Int): Boolean {
    return find(x) == find(y)
}

// ì‚¬ìš© ì˜ˆì‹œ
fun main() {
    // 2ì™€ 3ì„ í•©ì¹œë‹¤.
    union(2, 3)
    println("2ì™€ 3ì€ ê°™ì€ ì§‘í•©ì— ì†í•˜ëŠ”ê°€? ${isConnected(2, 3)}") // true

    // 1ê³¼ 2ë¥¼ í•©ì¹œë‹¤.
    union(1, 2)
    println("1ê³¼ 2ëŠ” ê°™ì€ ì§‘í•©ì— ì†í•˜ëŠ”ê°€? ${isConnected(1, 2)}") // true

    // 1ê³¼ 3ì´ ê°™ì€ ì§‘í•©ì— ì†í•˜ëŠ”ì§€ í™•ì¸
    println("1ê³¼ 3ì€ ê°™ì€ ì§‘í•©ì— ì†í•˜ëŠ”ê°€? ${isConnected(1, 3)}") // true

    // 4ì™€ 5ëŠ” ì•„ì§ ì—°ê²°ë˜ì§€ ì•Šì•˜ìœ¼ë¯€ë¡œ false
    println("4ì™€ 5ëŠ” ê°™ì€ ì§‘í•©ì— ì†í•˜ëŠ”ê°€? ${isConnected(4, 5)}") // false

    // 4ì™€ 5ë¥¼ í•©ì¹œë‹¤.
    union(4, 5)
    println("4ì™€ 5ëŠ” ê°™ì€ ì§‘í•©ì— ì†í•˜ëŠ”ê°€? ${isConnected(4, 5)}") // true
}
```

## ğŸ”¥ ì •ë¦¬

- Union ì—°ì‚°
  - ë‘ ê°œì˜ ì§‘í•©ì„ í•˜ë‚˜ë¡œ í•©ì¹œë‹¤.
  - ë” ì‘ì€ ê°’ì´ ë¶€ëª¨ê°€ ë˜ëŠ” ë°©ì‹ìœ¼ë¡œ í•©ì¹œë‹¤.
- Find ì—°ì‚°
  - ë¶€ëª¨ë¥¼ ë”°ë¼ê°€ë©° ìµœìƒìœ„ ë¶€ëª¨(ëŒ€í‘œ)ë¥¼ ì°¾ëŠ”ë‹¤.
  - íŠ¸ë¦¬ì˜ ê¹Šì´ê°€ ê¹Šì–´ì§€ë©´ íƒìƒ‰ ì‹œê°„ì´ ê¸¸ì–´ì§ˆ ìˆ˜ ìˆë‹¤.
- ê²½ë¡œ ì••ì¶•
  - Findë¥¼ ìˆ˜í–‰í•˜ë©° ë¶€ëª¨ë¥¼ ìµœìƒìœ„ ë¶€ëª¨ë¡œ ê°±ì‹ í•œë‹¤.
  - ì´í›„ íƒìƒ‰ ì†ë„ë¥¼ O(1)ì— ê°€ê¹ê²Œ ìœ ì§€í•  ìˆ˜ ìˆë‹¤.
- ìœ ë‹ˆì˜¨ íŒŒì¸ë“œëŠ” O(1)ì— ê°€ê¹Œìš´ ì‹œê°„ ë³µì¡ë„ë¥¼ ê°€ì§„ë‹¤.
